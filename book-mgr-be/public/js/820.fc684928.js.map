{"version":3,"file":"js/820.fc684928.js","mappings":"yLAKQA,EAAAA,EAAAA,GAAmB,YAAb,KAAM,G,GAWRA,EAAAA,EAAAA,GAAmB,YAAb,KAAM,G,gKAftBC,EAAAA,EAAAA,IAsBM,aArBJC,EAAAA,EAAAA,IAoBSC,EAAAA,CApBDC,MAAM,UAAQ,C,kBACpB,IAIM,EAJNJ,EAAAA,EAAAA,GAIM,aAHJE,EAAAA,EAAAA,IAAoFG,EAAAA,CAAnEC,MAAOC,EAAAA,M,gCAAAA,EAAAA,MAAK,GAAEC,YAAY,WAAWC,MAAA,iB,kBACtDC,GACAR,EAAAA,EAAAA,IAAmDS,EAAAA,CAAxCC,QAAOL,EAAAA,IAAKM,KAAK,W,mBAAU,IAAE,UAAF,S,uBAG1CX,EAAAA,EAAAA,IAAuBY,IAEvBd,EAAAA,EAAAA,GAUM,aATJE,EAAAA,EAAAA,IAQUa,EAAAA,CARDC,SAAA,GAAU,cAAaT,EAAAA,KAAOU,QAASV,EAAAA,QAAUW,YAAY,G,CACjDC,UAAQ,SACzB,EAD6BC,SAAQC,YAAM,CACN,YAArBD,EAAOE,YAAS,WAAhCrB,EAAAA,EAAAA,IAIWsB,EAAAA,GAAAA,CAAAC,IAAAA,GAAA,EAHTtB,EAAAA,EAAAA,IAAkES,EAAAA,CAAtDC,QAAK,GAAEL,EAAAA,YAAYc,GAASI,KAAK,S,mBAAQ,IAAE,UAAF,S,uBACrDC,GACAxB,EAAAA,EAAAA,IAA0ES,EAAAA,CAAhEE,KAAK,SAAUD,QAAK,GAAEL,EAAAA,OAAOc,GAASI,KAAK,S,mBAAQ,IAAE,UAAF,S,qJCZzE,MAAMR,EAAU,CACd,CACEb,MAAO,KACPkB,UAAW,SAEb,CACElB,MAAO,KACPkB,UAAW,YAIf,OAAeK,EAAAA,EAAAA,IAAgB,CAC7BC,QACE,MAAMxB,GAAQyB,EAAAA,EAAAA,IAAI,IACZC,GAAOD,EAAAA,EAAAA,IAAI,IAEXE,EAAUC,UACd,MAAMC,QAAYC,EAAAA,GAAAA,QAClBC,EAAAA,EAAAA,IAAOF,GAAKG,SAAQ,EAAGC,WACrBP,EAAKxB,MAAQ+B,CAAI,GACjB,EAEEC,EAAMN,UACV,MAAMC,QAAYC,EAAAA,GAAAA,IAAiB9B,EAAME,QAEzC6B,EAAAA,EAAAA,IAAOF,GAAKG,SAAQ,KAClBL,IACA3B,EAAME,MAAQ,EAAE,GAChB,GAEJiC,EAAAA,EAAAA,KAAU,KACRR,GAAS,IAGX,MAAMS,EAASR,OAASS,UACtB,MAAMR,QAAYC,EAAAA,GAAAA,OAAoBO,IAEtCN,EAAAA,EAAAA,IAAOF,GAAKG,SAAQ,EAAGM,UACrBC,EAAAA,GAAAA,QAAgBD,GAChBX,GAAS,GACT,EAGEa,EAAcZ,OAASS,UAC3BI,EAAAA,EAAAA,QAAc,CACZzC,MAAO,YACP0C,SAAS,8BAAC,kBAAH,MAEU,6BAA2B,QAG5CC,KAAMf,UACJ,MAAM5B,EAAQ4C,SAASC,cAAc,8BAA8B3C,MAC7D2B,QAAYC,EAAAA,GAAAA,YAAyBO,EAAKrC,IAEhD+B,EAAAA,EAAAA,IAAOF,GAAKG,SAAQ,EAAGM,UACrBC,EAAAA,GAAAA,QAAgBD,GAChBZ,EAAKxB,MAAM4C,SAASC,IACdA,EAAKV,MAAQA,IACfU,EAAK/C,MAAQA,EACf,GACA,GACF,GAEA,EAER,MAAO,CACLkC,MACAlC,QACA0B,OACAb,UACAuB,SACAI,cAEJ,I,QC1EF,MAAMQ,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://book-mgr-fe/./src/views/BookClassify/index.vue","webpack://book-mgr-fe/./src/views/BookClassify/index.jsx","webpack://book-mgr-fe/./src/views/BookClassify/index.vue?ff66"],"sourcesContent":["<template>\n  <div>\n    <a-card title=\"书籍分类管理\">\n      <div>\n        <a-input v-model:value=\"title\" placeholder=\"输入书籍分类管理\" style=\"width:200px\"></a-input>\n        <span>&nbsp;</span>\n        <a-button @click=\"add\" type=\"primary\">添加</a-button>\n      </div>\n\n    <a-divider></a-divider>\n\n    <div>\n      <a-table bordered :data-source=\"list\" :columns=\"columns\" :pagination=\"false\">\n          <template v-slot:bodyCell=\"{ column, record }\">\n          <template v-if=\"column.dataIndex === 'actions'\">\n            <a-button  @click=\"updateTitle(record)\" size=\"small\">修改</a-button>\n            <span>&nbsp;</span>\n            <a-button type=\"danger\" @click=\"remove(record)\" size=\"small\">删除</a-button>\n          </template>\n        </template>\n      </a-table>\n    </div>\n    </a-card>\n  </div>\n</template>\n\n\n<script src=\"./index.jsx\">\n</script>\n","import { defineComponent, ref, onMounted } from 'vue';\nimport { BookClassify } from '@/service';\nimport { result } from '@/helpers/utils';\nimport { message,Modal } from 'ant-design-vue';\n\nconst columns = [\n  {\n    title: '分类',\n    dataIndex: 'title',\n  },\n  {\n    title: '操作',\n    dataIndex: 'actions',\n  },\n];\n\nexport default defineComponent({\n  setup() {\n    const title = ref('');\n    const list = ref([]);\n\n    const getList = async () => {\n      const res = await BookClassify.list();\n      result(res).success(({ data }) => {\n        list.value = data;\n      });\n    };\n    const add = async () => {\n      const res = await BookClassify.add(title.value);\n\n      result(res).success(() => {\n        getList();\n        title.value = '';\n      });\n    };\n    onMounted(() => {\n      getList();\n    });\n\n    const remove = async ({ _id }) => {\n      const res = await BookClassify.remove(_id);\n\n      result(res).success(({ msg }) => {\n        message.success(msg);\n        getList();\n      });\n    };\n\n    const updateTitle = async ({ _id }) => {\n      Modal.confirm({\n        title: '请输入新的分类名称',\n        content: (\n          <div>\n            <Input class=\"__book_classify_new_title\" />\n          </div>\n        ),\n        onOk: async () => {\n          const title = document.querySelector('.__book_classify_new_title').value;\n          const res = await BookClassify.updateTitle(_id, title)\n\n          result(res).success(({ msg }) => {\n            message.success(msg)\n            list.value.forEach((item) => {\n              if (item._id === _id) {\n                item.title = title;\n              }\n            })\n          })\n        }\n          });\n    }\n    return {\n      add,\n      title,\n      list,\n      columns,\n      remove,\n      updateTitle,\n    };\n  },\n});\n","import { render } from \"./index.vue?vue&type=template&id=33edc357\"\nimport script from \"./index.jsx?vue&type=script&lang=js\"\nexport * from \"./index.jsx?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\Alvin\\\\Desktop\\\\图书管理系统\\\\book-mgr-fe\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","_createElementBlock","_createVNode","_component_a_card","title","_component_a_input","value","_ctx","placeholder","style","_hoisted_1","_component_a_button","onClick","type","_component_a_divider","_component_a_table","bordered","columns","pagination","bodyCell","column","record","dataIndex","_Fragment","key","size","_hoisted_2","defineComponent","setup","ref","list","getList","async","res","BookClassify","result","success","data","add","onMounted","remove","_id","msg","message","updateTitle","Modal","content","onOk","document","querySelector","forEach","item","__exports__","render"],"sourceRoot":""}